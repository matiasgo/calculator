<!DOCTYPE html>
<html>
	<head>
        <link rel='stylesheet' href='styles.css'>
	</head>
	<body>
		<div id='calculator'>
			<div id='display'>0</div>
			<div id='working'>0</div>
			<div id='container'>
				<div class="operators" id="clear">CE</div>
				<div class="operators" id="negate"><sup>+</sup>/-</div>
				<div class="operators" id="squared">x<sup>2</sup></div>
				<div class="operators" id="del">&#9003</div>
				<div class="buttons" id="seven">7</div>
				<div class="buttons" id="eight">8</div>
				<div class="buttons" id="nine">9</div>
				<div class="operators" id="divide">&#247</div>
				<div class="buttons" id='four'>4</div>
				<div class="buttons" id="five">5</div>
				<div class="buttons" id="six">6</div>
				<div class="operators" id="times">x</div>
				<div class="buttons" id='one'>1</div>
				<div class="buttons" id="two">2</div>
				<div class="buttons" id="three">3</div>
				<div class="operators" id="minus">-</div>
				<div class="buttons" id="zero">0</div>
				<div class="buttons" id="decimal">.</div>
				<div class="operators" id="percent">%</div>
				<div class="operators" id="plus">+</div>
				<div class="operators" id="open">(</div>
				<div class="operators" id="close">)</div>
				<div class="operators" id="equals">=</div>
			</div>
		</div>
	</body>
	<script type="text/javascript">
	//selecting all number input buttons
		var buttons = document.getElementsByClassName('buttons')
	//selecting all operator buttons
		var operators = document.getElementsByClassName('operators')
	//selecting the display
		var display = document.querySelector('#display')
	//selecting the working display
		var working_display = document.querySelector('#working')
	//selecting operators	
		var negate = document.querySelector('#negate')
		var sqrt = document.querySelector('#sqrt')
		var squared = document.querySelector('#squared')
		var del = document.querySelector('#del')
		var divide = document.querySelector('#divide')
		var times = document.querySelector('#times')
		var minus = document.querySelector('#minus')
		var plus = document.querySelector('#plus')
		var percent = document.querySelector('#percent')
		var open = document.querySelector('#open')
		var close = document.querySelector('#close')
		var equals = document.querySelector('#equals')

	//selecting number inpurs
		var one = document.querySelector('#one')
		var two = document.querySelector('#two')
		var three = document.querySelector('#three')
		var four = document.querySelector('#four')
		var five = document.querySelector('#five')
		var six = document.querySelector('#six')
		var seven = document.querySelector('#seven')
		var eight = document.querySelector('#eight')
		var nine = document.querySelector('#nine')
		var zero = document.querySelector('#zero')
		var decimal = document.querySelector('#decimal')
	//last button pushed
		var last_button;
	//pushing the inputs to the working array
		one.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(1)
			last_button = 'one'
			working_display.innerHTML = working.join('')
		}
		two.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(2)
			last_button = 'two'
			working_display.innerHTML = working.join('')
		}
		three.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(3)
			last_button = 'three'
			working_display.innerHTML = working.join('')
		}
		four.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(4)
			last_button = 'four'
			working_display.innerHTML = working.join('')
		}
		five.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(5)
			last_button = 'five'
			working_display.innerHTML = working.join('')
		}
		six.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(6)
			last_button = 'six'
			working_display.innerHTML = working.join('')
		}
		seven.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(7)
			last_button = 'seven'
			working_display.innerHTML = working.join('')
		}
		eight.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(8)
			last_button = 'eight'
			working_display.innerHTML = working.join('')
		}
		nine.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(9)
			last_button = 'nine'
			working_display.innerHTML = working.join('')
		}
		zero.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push(0)
			last_button = 'zero'
			working_display.innerHTML = working.join('')
		}
		decimal.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
			}
			working.push('.')
			last_button = '.'
			working_display.innerHTML = working.join('')
		}

	//pushing the operator inputs into the working array
		clear.onclick = function() {
			working = []
			display.innerHTML = 0
			working_display.innerHTML = 0
			last_button = 'clear'
		}
		negate.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				if (display.innerHTML.charAt(0) == '-') {
					display.innerHTML = display.innerHTML.substr(1)
					working = []
					working.push(display.innerHTML)
					working_display.innerHTML = working.join('')
					last_button = 'negate'

				} else {
					working = []
					working.push('-' + display.innerHTML)
					working_display.innerHTML = working.join('')
					last_button = 'negate'
				}
			} else {
				var operator_locations = [working.lastIndexOf(' + '), working.lastIndexOf(' - '), working.lastIndexOf(' / '), working.lastIndexOf(' * '), working.lastIndexOf(' ( '), working.lastIndexOf(' ) ')]
				if (working[operator_locations[0]+1] != '-') {
					working.splice(operator_locations[0]+1,0,'-')
					working_display.innerHTML = working.join('')
	
					last_button = 'negate'
				} else {
					working.splice(operator_locations[0]+1,1,'')
					working_display.innerHTML = working.join('')
					last_button = 'negate'
				}
			}
		}
		squared.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push('( ' + display.innerHTML + ' * ' + display.innerHTML + ' ) ')
				working_display.innerHTML = working.join('')

				last_button = 'squared'
			} else if (display.innerHTML == 0 && last_button == undefined) {
				working_display.innerHTML = 0
			}
			else {
				var operator_locations = [working.lastIndexOf(' + '), working.lastIndexOf(' - '), working.lastIndexOf(' / '), working.lastIndexOf(' * '), working.lastIndexOf(' ( '), working.lastIndexOf(' ) ')]
				last_number = working.splice(operator_locations[0]+1)
				console.log(last_number)
				working.push('( ' + last_number + ' * ' + last_number + ' ) ')
				working_display.innerHTML = working.join('')
			}
		}
		del.onclick = function() {
			working.pop()
			working_display.innerHTML = working.join('')
			last_button = 'del'
		}
		divide.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push(display.innerHTML)
			}
			working.push(' / ')
			working_display.innerHTML = working.join('')
			last_button = 'divide'
		}
		times.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push(display.innerHTML)
			}
			working.push(' * ')
			working_display.innerHTML = working.join('')
			last_button = 'times'
		}
		minus.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push(display.innerHTML)
			}
			working.push(' - ')
			working_display.innerHTML = working.join('')
			last_button = 'minus'
		}
		plus.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push(display.innerHTML)
			}
			working.push(' + ')
			working_display.innerHTML = working.join('')
			last_button = 'plus'
		}
		percent.onclick = function() {
			last_button = 'percent'
		}
		open.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push(' ( ' + display.innerHTML)
				working_display.innerHTML = working.join('')

				last_button = 'open'
			} else {
				working.push(' ( ')
				working_display.innerHTML = working.join('')

				last_button = 'open'
			}
		}
		close.onclick = function() {
			if (display.innerHTML != 0 && last_button === 'equals') {
				working = []
				working.push(display.innerHTML)
			}
			working.push(' ) ')
			working_display.innerHTML = working.join('')
			last_button = 'close'
		}
		equals.onclick = function() {
			working_display.innerHTML = working.join('')
			working_display.innerHTML = working.join('')
			var output = eval(working.join(''))
			display.innerHTML = output
			last_button = 'equals'
		}

		var working = []

	</script>
</html>